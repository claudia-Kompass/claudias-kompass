<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>CLAUDIAS KOMPASS</title>

<style>
body {
  font-family: Georgia, serif;
  margin: 0;
  padding: 30px;
  background: #ffffff;
  color: #111;
  max-width: 900px;
  margin-left: auto;
  margin-right: auto;
}

h1 {
  font-size: 36px;
  margin-bottom: 5px;
  color: #0b1f3a;
}

.meta {
  color: #555;
  margin-bottom: 40px;
}

.section {
  margin-bottom: 40px;
}

h2 {
  border-bottom: 3px solid #c8a100;
  padding-bottom: 5px;
  color: #0b1f3a;
}

.notice {
  background: #f2f2f2;
  padding: 20px;
  margin-top: 20px;
}

button {
  background: #0b1f3a;
  color: white;
  border: none;
  padding: 12px 20px;
  cursor: pointer;
  font-size: 16px;
  margin-top: 20px;
}

button:hover {
  background: #132c52;
}
</style>
</head>

<body>

<h1>CLAUDIAS KOMPASS</h1>
<div class="meta" id="date"></div>

<div class="section">
  <h2>Heutige Ausgabe</h2>
  <div id="content" class="notice">
    Lade deine Tagesausgabe…
  </div>
  <button onclick="loadContent()">Neue Ausgabe laden</button>
</div>

<script>
function formatDate() {
  const now = new Date();
  return now.toLocaleDateString("de-DE") + " · " +
         now.toLocaleTimeString("de-DE", {hour: '2-digit', minute:'2-digit'}) + " CET";
}

document.getElementById("date").innerText = formatDate();

async function loadContent() {
  document.getElementById("content").innerText = "Generiere...";
  try {
    const res = await fetch("/api/daily");
    const data = await res.json();
    document.getElementById("content").innerText = data.content;
  } catch (err) {
    document.getElementById("content").innerText = "Fehler beim Laden.";
  }
}

loadContent();
</script>

</body>
</html>
